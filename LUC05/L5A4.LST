Turbo Assembler	 Version 3.0	    11/12/20 14:52:05	    Page 1
l5a4.ASM



      1	0000			     .model small
      2	0000			     .stack 100
      3	0000			     .data
      4	0000  6B 65 6B			     sir1 db 'kek'
      5	      =0003			     lenSir1 equ $-sir1
      6	0003  74 6F 70 6B 65 6B	74+	     sir2 db 'topkektopkektopkektopkektopkek', 0
      7	      6F 70 6B 65 6B 74	6F+
      8	      70 6B 65 6B 74 6F	70+
      9	      6B 65 6B 74 6F 70	6B+
     10	      65 6B 00
     11	0022			     .code
     12	0000				     program:
     13					     ; muta adresa segmentului de date in DS
     14	0000				     initializare:
     15	0000  B8 0000s				     mov ax, @data
     16	0003  8E D8				     mov ds, ax
     17	0005  8E C0				     mov es, ax
     18	0007  BE 0000r				     lea si, sir1
     19	000A  BF 0003r				     lea di, sir2
     20	000D  FC				     CLD
     21
     22	000E  BA 0003				     mov dx, lenSir1
     23
     24	0011				     start:
     25	0011  80 3D 00				     cmp byte ptr [di],	0
     26	0014  74 21				     jz	afisare
     27	0016  B9 0000				     mov cx, 0
     28	0019  BE 0000r				     lea si, sir1
     29	001C  AC				     lodsb	      ;Load String (Byte) DS:SI	-> AL
     30	001D				     compara:
     31	001D  AE				     scasb	      ;Scan String (Byte) AL -	ES:DI
     32	001E  75 FD				     jne compara
     33	0020				     verificareSubsir:
     34	0020  41				     inc cx
     35	0021  83 F9 03				     cmp cx, lenSir1
     36	0024  74 04				     jz	incSubsir
     37	0026  AC				     lodsb	      ;Load String (Byte) DS:SI	-> AL
     38	0027  AE				     scasb	      ;Scan String (Byte) AL -	ES:DI
     39	0028  74 F6				     je	verificareSubsir
     40	002A				     incSubsir:
     41	002A  80 FB 09				     cmp bl, 9
     42	002D  74 04				     je	incBx
     43	002F  FE C3				     inc bl
     44	0031  EB DE				     jmp start
     45	0033				     incBX:
     46	0033  FE C7				     inc bh
     47	0035  B3 00				     mov bl, 0
     48	0037				     afisare:
     49	0037  8A D7				     mov dl, bh
     50	0039  80 C2 30				     add dl, '0'
     51	003C  B4 02				     mov ah, 02h
     52	003E  CD 21				     int 21h
     53	0040  8A D3				     mov dl, bl
     54	0042  80 C2 30				     add dl, '0'
     55	0045  B4 02				     mov ah, 02h
     56	0047  CD 21				     int 21h
     57					     ; iesire din program
Turbo Assembler	 Version 3.0	    11/12/20 14:52:05	    Page 2
l5a4.ASM



     58	0049				     sfarsit:
     59	0049  B4 4C				     mov ah, 4Ch     ; functia DOS de iesire din program
     60	004B  CD 21				     int 21h
     61				     end program
Turbo Assembler	 Version 3.0	    11/12/20 14:52:05	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "11/12/20"
??FILENAME			  Text	 "l5a4	  "
??TIME				  Text	 "14:52:05"
??VERSION			  Number 0300
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 L5A4
@INTERFACE			  Text	 00H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
AFISARE				  Near	 _TEXT:0037
COMPARA				  Near	 _TEXT:001D
INCBX				  Near	 _TEXT:0033
INCSUBSIR			  Near	 _TEXT:002A
INITIALIZARE			  Near	 _TEXT:0000
LENSIR1				  Number 0003
PROGRAM				  Near	 _TEXT:0000
SFARSIT				  Near	 _TEXT:0049
SIR1				  Byte	 DGROUP:0000
SIR2				  Byte	 DGROUP:0003
START				  Near	 _TEXT:0011
VERIFICARESUBSIR		  Near	 _TEXT:0020

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0064 Para	  Stack	  STACK
  _DATA				  16  0022 Word	  Public  DATA
_TEXT				  16  004D Word	  Public  CODE
