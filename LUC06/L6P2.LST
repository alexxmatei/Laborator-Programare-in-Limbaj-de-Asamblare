Turbo Assembler	 Version 3.0	    11/25/20 17:23:39	    Page 1
l6p2.ASM



      1				     afisare_ch	MACRO a
      2					     mov dl, a	  ; cifra de afisat
      3					     add dl, 30h  ; caracterul ASCII al	cifrei
      4					     mov ah, 2h	  ; afisare caracter ASCII
      5					     int 21h
      6				     ENDM
      7
      8				     exit_dos MACRO
      9					     mov ah, 4Ch     ; functia DOS de iesire din program
     10					     int 21h
     11				     ENDM
     12
     13				     citire_ch macro
     14					     mov ah, 07h
     15					     int 21h
     16				     ENDM
     17
     18				     cautare_ch	MACRO sir, lungime_sir
     19					     lea di, sir     ; DI = adresa sirului
     20					     cld
     21					     citire_ch
     22					     ;mov al, 's'     ;	litera cautata
     23					     mov cx, lungime_sir
     24					     ; repeta cat timp nu este egal sau	pana c = 0
     25					     repne scasb
     26					     mov ax, lungime_sir
     27					     ; index litera = lung - contor
     28					     sub ax, cx
     29				     ENDM
     30
     31	0000			     .model small
     32	0000			     .stack 100
     33	0000			     .data
     34	0000  61 73 61 6D 62 6C	61+	     sir db 'asamblare'
     35	      72 65
     36	      =0009			     lungime_sir equ $-sir
     37	0009			     .code
     38	0000				     program:
     39					     ; muta adresa segmentului de date in DS
     40	0000				     initializare:
     41	0000  B8 0000s				     mov ax, @data
     42	0003  8E C0				     mov es, ax
     43	0005				     start:
     44	0005  BF 0000r				     lea di, sir     ; DI = adresa sirului
     45	0008  FC			     cld
     46					     citire_ch
1    47	0009  B4 07			     mov ah, 07h
1    48	000B  CD 21			     int 21h
     49					     ;mov al, 's'     ;	litera cautata
     50	000D  B9 0009			     mov cx, lungime_sir
     51					     ; repeta cat timp nu este egal sau	pana c = 0
     52	0010  F2> AE			     repne scasb
     53	0012  B8 0009			     mov ax, lungime_sir
     54					     ; index litera = lung - contor
     55	0015  2B C1			     sub ax, cx
     56					     afisare_ch	al
1    57	0017  8A D0			     mov dl, al	   ; cifra de afisat
Turbo Assembler	 Version 3.0	    11/25/20 17:23:39	    Page 2
l6p2.ASM



1    58	0019  80 C2 30			     add dl, 30h  ; caracterul ASCII al	cifrei
1    59	001C  B4 02			     mov ah, 2h	  ; afisare caracter ASCII
1    60	001E  CD 21			     int 21h
     61					     exit_dos
1    62	0020  B4 4C			     mov ah, 4Ch     ; functia DOS de iesire din program
1    63	0022  CD 21			     int 21h
     64				     end program
Turbo Assembler	 Version 3.0	    11/25/20 17:23:39	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "11/25/20"
??FILENAME			  Text	 "l6p2	  "
??TIME				  Text	 "17:23:39"
??VERSION			  Number 0300
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 L6P2
@INTERFACE			  Text	 00H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
INITIALIZARE			  Near	 _TEXT:0000
LUNGIME_SIR			  Number 0009
PROGRAM				  Near	 _TEXT:0000
SIR				  Byte	 DGROUP:0000
START				  Near	 _TEXT:0005

Macro Name

AFISARE_CH
CAUTARE_CH
CITIRE_CH
EXIT_DOS

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0064 Para	  Stack	  STACK
  _DATA				  16  0009 Word	  Public  DATA
_TEXT				  16  0024 Word	  Public  CODE
