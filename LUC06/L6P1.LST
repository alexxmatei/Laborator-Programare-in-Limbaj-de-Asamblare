Turbo Assembler	 Version 3.0	    11/25/20 17:17:25	    Page 1
l6p1.ASM



      1				     afisare_ch	MACRO a
      2					     mov dl, a	  ; cifra de afisat
      3					     add dl, 30h  ; caracterul ASCII al	cifrei
      4					     mov ah, 2h	  ; afisare caracter ASCII
      5					     int 21h
      6				     ENDM
      7
      8				     exit_dos MACRO
      9					     mov ah, 4Ch     ; functia DOS de iesire din program
     10					     int 21h
     11				     ENDM
     12
     13				     cautare_ch	MACRO sir, lungime_sir
     14					     lea di, sir     ; DI = adresa sirului
     15					     cld
     16					     mov al, 'm'     ; litera cautata
     17					     mov cx, lungime_sir
     18					     ; repeta cat timp nu este egal sau	pana c = 0
     19					     repne scasb
     20					     mov ax, lungime_sir
     21					     ; index litera = lung - contor
     22					     sub ax, cx
     23				     ENDM
     24
     25	0000			     .model small
     26	0000			     .stack 100
     27	0000			     .data
     28	0000  61 73 61 6D 62 6C	61+	     sir db 'asamblare'
     29	      72 65
     30	      =0009			     lungime_sir equ $-sir
     31	0009			     .code
     32	0000				     program:
     33					     ; muta adresa segmentului de date in DS
     34	0000				     initializare:
     35	0000  B8 0000s				     mov ax, @data
     36	0003  8E C0				     mov es, ax
     37	0005				     start:
     38					     cautare_ch	sir, lungime_sir
1    39	0005  BF 0000r			     lea di, sir     ; DI = adresa sirului
1    40	0008  FC			     cld
1    41	0009  B0 6D			     mov al, 'm'     ; litera cautata
1    42	000B  B9 0009			     mov cx, lungime_sir
1    43					     ; repeta cat timp nu este egal sau	pana c = 0
1    44	000E  F2> AE			     repne scasb
1    45	0010  B8 0009			     mov ax, lungime_sir
1    46					     ; index litera = lung - contor
1    47	0013  2B C1			     sub ax, cx
     48					     afisare_ch	al
1    49	0015  8A D0			     mov dl, al	   ; cifra de afisat
1    50	0017  80 C2 30			     add dl, 30h  ; caracterul ASCII al	cifrei
1    51	001A  B4 02			     mov ah, 2h	  ; afisare caracter ASCII
1    52	001C  CD 21			     int 21h
     53					     exit_dos
1    54	001E  B4 4C			     mov ah, 4Ch     ; functia DOS de iesire din program
1    55	0020  CD 21			     int 21h
     56				     end program
Turbo Assembler	 Version 3.0	    11/25/20 17:17:25	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "11/25/20"
??FILENAME			  Text	 "l6p1	  "
??TIME				  Text	 "17:17:25"
??VERSION			  Number 0300
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 L6P1
@INTERFACE			  Text	 00H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
INITIALIZARE			  Near	 _TEXT:0000
LUNGIME_SIR			  Number 0009
PROGRAM				  Near	 _TEXT:0000
SIR				  Byte	 DGROUP:0000
START				  Near	 _TEXT:0005

Macro Name

AFISARE_CH
CAUTARE_CH
EXIT_DOS

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0064 Para	  Stack	  STACK
  _DATA				  16  0009 Word	  Public  DATA
_TEXT				  16  0022 Word	  Public  CODE
